<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=1700, user-scalable=yes" />
        <title>Axis - Home</title>
        <link rel="icon" type="image/x-icon" href="../logo.png" />
        <meta property="og:title" content="Axis Home" />
        <meta property="og:description" content="Axis Community Forum" />
        <meta name="theme-color" content="#1a1a1a" />

        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: "Inter", -apple-system, BlinkMacSystemFont,
                    "Segoe UI", Roboto, sans-serif;
                background: linear-gradient(
                    135deg,
                    #0a0a0a,
                    #1a1a1a 60%,
                    #2a2a2a 100%
                );
                color: #e5e5e5;
                min-height: 100vh;
                line-height: 1.6;
                overflow-x: hidden;
                position: relative;
                padding-top: 70px;
            }

            body::before {
                content: "";
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: #000000;
                background-image: url("https://www.transparenttextures.com/patterns/cartographer.png");
                opacity: 0.25;
                z-index: -1;
            }

            .loading-screen {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(
                    135deg,
                    #0a0a0a,
                    #1a1a1a 60%,
                    #2a2a2a 100%
                );
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 11000;
                opacity: 1;
                visibility: visible;
                transition: opacity 0.5s ease, visibility 0.5s ease;
            }

            .loading-screen::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: #000000;
                background-image: url("https://www.transparenttextures.com/patterns/cartographer.png");
                opacity: 0.25;
                z-index: -1;
            }

            .loading-screen.hidden {
                opacity: 0;
                visibility: hidden;
                pointer-events: none;
            }

            .loading-logo {
                width: 120px;
                height: 120px;
                border-radius: 16px;
                margin-bottom: 24px;
                border: 3px solid rgba(120, 120, 120, 0.3);
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.6);
            }

            .loading-spinner {
                width: 80px;
                height: 80px;
                border: 6px solid rgba(255, 255, 255, 0.1);
                border-top: 6px solid #fff;
                border-radius: 50%;
                animation: spin 1s linear infinite;
            }

            .loading-text {
                margin-top: 24px;
                font-size: 1.4rem;
                color: #e5e5e5;
                font-weight: 600;
                text-align: center;
            }

            .loading-subtext {
                margin-top: 8px;
                font-size: 1rem;
                color: #9ca3af;
                text-align: center;
            }

            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }

            .top-navbar {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                z-index: 10000;
                background: rgba(15, 15, 15, 0.95);
                backdrop-filter: blur(20px);
                border-bottom: 2px solid rgba(80, 80, 80, 0.5);
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
                transition: transform 0.3s ease;
            }

            .top-navbar.hidden {
                transform: translateY(-100%);
            }

            .navbar-container {
                max-width: 1700px;
                margin: 0 auto;
                padding: 0 20px;
                display: flex;
                align-items: center;
                justify-content: space-between;
                height: 70px;
            }

            .navbar-logo {
                display: flex;
                align-items: center;
                gap: 12px;
                text-decoration: none;
                color: #e5e5e5;
                font-weight: 700;
                font-size: 1.3rem;
                transition: all 0.3s ease;
            }

            .navbar-logo:hover {
                transform: translateY(-2px);
            }

            .navbar-logo-img {
                width: 40px;
                height: 40px;
                border-radius: 8px;
                border: 2px solid rgba(120, 120, 120, 0.3);
            }

            .navbar-tabs {
                display: flex;
                gap: 8px;
                align-items: center;
            }

            .navbar-tab {
                background: rgba(30, 30, 30, 0.8);
                border: 2px solid rgba(80, 80, 80, 0.4);
                border-radius: 12px;
                padding: 10px 24px;
                color: #d1d5db;
                font-size: 15px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                text-decoration: none;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .navbar-tab:hover {
                background: rgba(50, 50, 50, 0.9);
                border-color: #999;
                transform: translateY(-2px);
                box-shadow: 0 0 15px rgba(160, 160, 160, 0.5);
            }

            .navbar-tab.active {
                background: linear-gradient(135deg, #333, #111);
                border-color: #ccc;
                color: #fff;
                box-shadow: 0 0 18px rgba(200, 200, 200, 0.7);
            }

            .navbar-tab svg {
                width: 18px;
                height: 18px;
            }

            .user-section {
                display: flex;
                align-items: center;
                gap: 12px;
            }

            .user-avatar {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                border: 2px solid rgba(120, 120, 120, 0.4);
                cursor: pointer;
            }

            .username-display {
                color: #e5e5e5;
                font-weight: 600;
                font-size: 15px;
            }

            .btn-logout {
                background: rgba(220, 38, 38, 0.8);
                border: 2px solid rgba(220, 38, 38, 0.5);
                border-radius: 8px;
                padding: 8px 16px;
                color: #fff;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .btn-logout:hover {
                background: rgba(220, 38, 38, 1);
                border-color: rgba(220, 38, 38, 0.8);
            }

            .container {
                max-width: 1700px;
                margin: 0 auto;
                padding: 40px 20px 100px;
            }

            .forum-search {
                margin-bottom: 40px;
                position: relative;
            }

            .forum-search input {
                width: 100%;
                background: rgba(20, 20, 20, 0.8);
                border: 2px solid rgba(80, 80, 80, 0.3);
                border-radius: 12px;
                padding: 16px 20px 16px 48px;
                color: #e5e5e5;
                font-size: 15px;
                transition: all 0.3s ease;
            }

            .forum-search input:focus {
                outline: none;
                border-color: rgba(120, 120, 120, 0.5);
                background: rgba(30, 30, 30, 0.9);
                box-shadow: 0 0 15px rgba(160, 160, 160, 0.3);
            }

            .forum-search input::placeholder {
                color: #9ca3af;
            }

            .forum-search svg {
                position: absolute;
                left: 16px;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
                height: 20px;
                color: #9ca3af;
            }

            .forum-header {
                text-align: center;
                margin-bottom: 50px;
            }

            .forum-header h1 {
                font-size: 3rem;
                font-weight: 900;
                background: linear-gradient(135deg, #f5f5f5, #cfcfcf);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                margin-bottom: 16px;
            }

            .create-thread-btn {
                background: linear-gradient(135deg, #3b82f6, #2563eb);
                border: 2px solid rgba(59, 130, 246, 0.5);
                border-radius: 12px;
                padding: 14px 28px;
                color: #fff;
                font-size: 16px;
                font-weight: 700;
                cursor: pointer;
                transition: all 0.3s ease;
                margin-bottom: 30px;
                display: inline-flex;
                align-items: center;
                gap: 8px;
            }

            .create-thread-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);
            }

            .forum-content {
                max-width: 1200px;
                margin: 0 auto;
            }

            .pinned-section {
                margin-bottom: 40px;
            }

            .section-title {
                font-size: 1.5rem;
                font-weight: 700;
                color: #e5e5e5;
                margin-bottom: 20px;
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .pin-icon {
                width: 24px;
                height: 24px;
                color: #fbbf24;
            }

            .thread-card {
                background: rgba(20, 20, 20, 0.8);
                border: 2px solid rgba(80, 80, 80, 0.3);
                border-radius: 16px;
                padding: 24px;
                margin-bottom: 20px;
                transition: all 0.3s ease;
                cursor: pointer;
                position: relative;
            }

            .thread-card.pinned {
                border-color: rgba(251, 191, 36, 0.5);
                background: rgba(30, 30, 20, 0.8);
            }

            .thread-card:hover {
                background: rgba(30, 30, 30, 0.9);
                border-color: rgba(120, 120, 120, 0.5);
                transform: translateY(-4px);
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
            }

            .thread-header {
                display: flex;
                align-items: center;
                gap: 12px;
                margin-bottom: 16px;
            }

            .thread-avatar {
                width: 48px;
                height: 48px;
                border-radius: 50%;
                border: 2px solid rgba(120, 120, 120, 0.4);
            }

            .thread-author {
                font-size: 1rem;
                font-weight: 600;
                color: #e5e5e5;
            }

            .thread-title {
                font-size: 1.4rem;
                font-weight: 700;
                color: #fff;
                margin-bottom: 12px;
            }

            .thread-preview {
                color: #9ca3af;
                font-size: 1rem;
                line-height: 1.6;
                margin-bottom: 8px;
            }

            .thread-more {
                color: #6b7280;
                font-style: italic;
                font-size: 0.95rem;
            }

            .thread-meta {
                display: flex;
                gap: 20px;
                margin-top: 12px;
                font-size: 0.9rem;
                color: #9ca3af;
            }

            .thread-date {
                display: flex;
                align-items: center;
                gap: 6px;
            }

            .thread-modal {
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.9);
                display: none;
                align-items: center;
                justify-content: center;
                z-index: 10001;
                backdrop-filter: blur(8px);
                padding: 20px;
            }

            .thread-modal.active {
                display: flex;
            }

            .thread-modal-content {
                background: rgba(20, 20, 20, 0.98);
                border: 2px solid rgba(80, 80, 80, 0.4);
                border-radius: 16px;
                max-width: 700px;
                width: 100%;
                max-height: 85vh;
                overflow-y: auto;
                position: relative;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.9);
                padding: 32px;
            }

            .thread-modal-close {
                position: absolute;
                top: 16px;
                right: 16px;
                background: rgba(50, 50, 50, 0.9);
                border: 2px solid rgba(100, 100, 100, 0.5);
                color: #d1d5db;
                width: 40px;
                height: 40px;
                border-radius: 8px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s ease;
                font-size: 20px;
                font-weight: bold;
            }

            .thread-modal-close:hover {
                background: rgba(80, 80, 80, 0.9);
                border-color: #ccc;
                color: #fff;
            }

            .thread-modal-header {
                display: flex;
                align-items: center;
                gap: 12px;
                margin-bottom: 24px;
                padding-bottom: 16px;
                border-bottom: 2px solid rgba(80, 80, 80, 0.3);
            }

            .thread-modal-avatar {
                width: 48px;
                height: 48px;
                border-radius: 50%;
                border: 2px solid rgba(120, 120, 120, 0.4);
            }

            .thread-modal-author {
                font-size: 1rem;
                font-weight: 600;
                color: #e5e5e5;
            }

            .thread-modal-title {
                font-size: 1.8rem;
                font-weight: 700;
                color: #fff;
                margin-bottom: 20px;
                line-height: 1.3;
            }

            .thread-modal-body {
                color: #d1d5db;
                font-size: 1.05rem;
                line-height: 1.7;
            }

            .thread-modal-body p {
                margin-bottom: 16px;
            }

            .thread-modal-body p:last-child {
                margin-bottom: 0;
            }

            .auth-modal {
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.9);
                display: none;
                align-items: center;
                justify-content: center;
                z-index: 10002;
                backdrop-filter: blur(8px);
                padding: 20px;
            }

            .auth-modal.active {
                display: flex;
            }

            .auth-modal-content {
                background: rgba(20, 20, 20, 0.98);
                border: 2px solid rgba(80, 80, 80, 0.4);
                border-radius: 16px;
                max-width: 450px;
                width: 100%;
                padding: 40px;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.9);
            }

            .auth-modal-title {
                font-size: 2rem;
                font-weight: 700;
                color: #fff;
                margin-bottom: 10px;
                text-align: center;
            }

            .auth-modal-subtitle {
                color: #9ca3af;
                text-align: center;
                margin-bottom: 30px;
            }

            .auth-form {
                display: flex;
                flex-direction: column;
                gap: 20px;
            }

            .form-group {
                display: flex;
                flex-direction: column;
                gap: 8px;
            }

            .form-label {
                color: #e5e5e5;
                font-weight: 600;
                font-size: 14px;
            }

            .form-input {
                background: rgba(30, 30, 30, 0.8);
                border: 2px solid rgba(80, 80, 80, 0.3);
                border-radius: 8px;
                padding: 12px 16px;
                color: #e5e5e5;
                font-size: 15px;
                transition: all 0.3s ease;
            }

            .form-input:focus {
                outline: none;
                border-color: rgba(59, 130, 246, 0.5);
                background: rgba(30, 30, 30, 0.9);
            }

            .btn-primary {
                background: linear-gradient(135deg, #3b82f6, #2563eb);
                border: none;
                border-radius: 8px;
                padding: 14px;
                color: #fff;
                font-size: 16px;
                font-weight: 700;
                cursor: pointer;
                transition: all 0.3s ease;
                margin-top: 10px;
            }

            .btn-primary:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);
            }

            .auth-switch {
                text-align: center;
                margin-top: 20px;
                color: #9ca3af;
            }

            .auth-switch-link {
                color: #3b82f6;
                cursor: pointer;
                text-decoration: underline;
            }

            .auth-switch-link:hover {
                color: #60a5fa;
            }

            .create-thread-modal {
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.9);
                display: none;
                align-items: center;
                justify-content: center;
                z-index: 10002;
                backdrop-filter: blur(8px);
                padding: 20px;
            }

            .create-thread-modal.active {
                display: flex;
            }

            .create-thread-content {
                background: rgba(20, 20, 20, 0.98);
                border: 2px solid rgba(80, 80, 80, 0.4);
                border-radius: 16px;
                max-width: 600px;
                width: 100%;
                padding: 40px;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.9);
                position: relative;
            }

            .modal-close {
                position: absolute;
                top: 16px;
                right: 16px;
                background: rgba(50, 50, 50, 0.9);
                border: 2px solid rgba(100, 100, 100, 0.5);
                color: #d1d5db;
                width: 40px;
                height: 40px;
                border-radius: 8px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s ease;
                font-size: 20px;
                font-weight: bold;
            }

            .modal-close:hover {
                background: rgba(80, 80, 80, 0.9);
                border-color: #ccc;
                color: #fff;
            }

            .form-textarea {
                background: rgba(30, 30, 30, 0.8);
                border: 2px solid rgba(80, 80, 80, 0.3);
                border-radius: 8px;
                padding: 12px 16px;
                color: #e5e5e5;
                font-size: 15px;
                transition: all 0.3s ease;
                min-height: 150px;
                resize: vertical;
                font-family: inherit;
            }

            .form-textarea:focus {
                outline: none;
                border-color: rgba(59, 130, 246, 0.5);
                background: rgba(30, 30, 30, 0.9);
            }

            .moderation-warning {
                background: rgba(251, 191, 36, 0.1);
                border: 1px solid rgba(251, 191, 36, 0.3);
                border-radius: 8px;
                padding: 12px;
                color: #fbbf24;
                font-size: 13px;
                margin-top: 10px;
            }

            .profile-settings-btn {
                background: rgba(30, 30, 30, 0.8);
                border: 2px solid rgba(80, 80, 80, 0.4);
                border-radius: 8px;
                padding: 8px 16px;
                color: #d1d5db;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .profile-settings-btn:hover {
                background: rgba(50, 50, 50, 0.9);
                border-color: #999;
            }

            .profile-modal {
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.9);
                display: none;
                align-items: center;
                justify-content: center;
                z-index: 10002;
                backdrop-filter: blur(8px);
                padding: 20px;
            }

            .profile-modal.active {
                display: flex;
            }

            .profile-modal-content {
                background: rgba(20, 20, 20, 0.98);
                border: 2px solid rgba(80, 80, 80, 0.4);
                border-radius: 16px;
                max-width: 500px;
                width: 100%;
                padding: 40px;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.9);
                position: relative;
            }

            .profile-avatar-preview {
                width: 120px;
                height: 120px;
                border-radius: 50%;
                border: 3px solid rgba(120, 120, 120, 0.4);
                margin: 0 auto 20px;
                display: block;
            }

            .avatar-upload-section {
                margin-top: 20px;
            }

            .file-input-wrapper {
                position: relative;
                overflow: hidden;
                display: inline-block;
                width: 100%;
            }

            .file-input-wrapper input[type="file"] {
                position: absolute;
                left: -9999px;
            }

            .file-input-label {
                display: block;
                background: rgba(30, 30, 30, 0.8);
                border: 2px dashed rgba(80, 80, 80, 0.4);
                border-radius: 8px;
                padding: 20px;
                text-align: center;
                color: #9ca3af;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .file-input-label:hover {
                border-color: rgba(59, 130, 246, 0.5);
                background: rgba(30, 30, 30, 0.9);
                color: #3b82f6;
            }

            .avatar-options {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 12px;
                margin-top: 20px;
            }

            .avatar-option {
                width: 100%;
                aspect-ratio: 1;
                border-radius: 50%;
                border: 3px solid rgba(80, 80, 80, 0.3);
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .avatar-option:hover {
                border-color: rgba(59, 130, 246, 0.5);
                transform: scale(1.1);
            }

            .avatar-option.selected {
                border-color: #3b82f6;
                box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
            }

            .error-message {
                background: rgba(220, 38, 38, 0.1);
                border: 1px solid rgba(220, 38, 38, 0.3);
                border-radius: 8px;
                padding: 12px;
                color: #ef4444;
                font-size: 14px;
                margin-bottom: 15px;
                display: none;
            }

            .error-message.active {
                display: block;
            }

            .footer {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                width: 100%;
                background: rgba(15, 15, 15, 0.95);
                backdrop-filter: blur(20px);
                border-top: 1px solid rgba(80, 80, 80, 0.5);
                padding: 12px 0;
                text-align: center;
                font-size: 0.9rem;
                font-weight: 600;
                color: #64748b;
                box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.6);
                z-index: 1000;
            }

            .footer strong {
                color: #e5e5e5;
                background: linear-gradient(135deg, #f5f5f5, #cfcfcf);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }
			
			.admin-badge {
                    background: linear-gradient(135deg, #fbbf24, #f59e0b);
                    color: #000;
                    font-size: 11px;
                    font-weight: 700;
                    padding: 3px 8px;
                    border-radius: 4px;
                    margin-left: 8px;
                    text-transform: uppercase;
                }

                .delete-thread-btn {
                    position: absolute;
                    top: 16px;
                    right: 16px;
                    background: rgba(220, 38, 38, 0.8);
                    border: 2px solid rgba(220, 38, 38, 0.5);
                    border-radius: 8px;
                    padding: 8px 16px;
                    color: #fff;
                    font-size: 13px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    z-index: 1;
                }

                .delete-thread-btn:hover {
                    background: rgba(220, 38, 38, 1);
                    border-color: rgba(220, 38, 38, 0.8);
                    transform: scale(1.05);
                }

                .admin-panel-btn {
                    background: linear-gradient(135deg, #fbbf24, #f59e0b);
                    border: 2px solid rgba(251, 191, 36, 0.5);
                    border-radius: 8px;
                    padding: 8px 16px;
                    color: #000;
                    font-size: 14px;
                    font-weight: 700;
                    cursor: pointer;
                    transition: all 0.3s ease;
                }

                .admin-panel-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 8px 24px rgba(251, 191, 36, 0.4);
                }

                .admin-panel-modal {
                    position: fixed;
                    inset: 0;
                    background: rgba(0, 0, 0, 0.9);
                    display: none;
                    align-items: center;
                    justify-content: center;
                    z-index: 10003;
                    backdrop-filter: blur(8px);
                    padding: 20px;
                }

                .admin-panel-modal.active {
                    display: flex;
                }

                .admin-panel-content {
                    background: rgba(20, 20, 20, 0.98);
                    border: 2px solid rgba(251, 191, 36, 0.4);
                    border-radius: 16px;
                    max-width: 800px;
                    width: 100%;
                    max-height: 85vh;
                    overflow-y: auto;
                    padding: 40px;
                    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.9);
                    position: relative;
                }

                .admin-thread-item {
                    background: rgba(30, 30, 30, 0.8);
                    border: 2px solid rgba(80, 80, 80, 0.3);
                    border-radius: 12px;
                    padding: 16px;
                    margin-bottom: 12px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }

                .admin-thread-info {
                    flex: 1;
                }

                .admin-thread-title {
                    color: #fff;
                    font-weight: 600;
                    margin-bottom: 4px;
                }

                .admin-thread-meta {
                    color: #9ca3af;
                    font-size: 13px;
                }

                .admin-delete-btn {
                    background: rgba(220, 38, 38, 0.8);
                    border: 2px solid rgba(220, 38, 38, 0.5);
                    border-radius: 8px;
                    padding: 8px 16px;
                    color: #fff;
                    font-size: 13px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    white-space: nowrap;
                }

                .admin-delete-btn:hover {
                    background: rgba(220, 38, 38, 1);
                    border-color: rgba(220, 38, 38, 0.8);
                }

                .admin-stats {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 16px;
                    margin-bottom: 30px;
                }

                .admin-stat-card {
                    background: rgba(30, 30, 30, 0.8);
                    border: 2px solid rgba(80, 80, 80, 0.3);
                    border-radius: 12px;
                    padding: 20px;
                    text-align: center;
                }

                .admin-stat-value {
                    font-size: 2rem;
                    font-weight: 700;
                    color: #fbbf24;
                    margin-bottom: 8px;
                }

                .admin-stat-label {
                    color: #9ca3af;
                    font-size: 14px;
                }

                .confirm-dialog {
                    position: fixed;
                    inset: 0;
                    background: rgba(0, 0, 0, 0.95);
                    display: none;
                    align-items: center;
                    justify-content: center;
                    z-index: 10004;
                    backdrop-filter: blur(8px);
                }

                .confirm-dialog.active {
                    display: flex;
                }

                .confirm-dialog-content {
                    background: rgba(20, 20, 20, 0.98);
                    border: 2px solid rgba(220, 38, 38, 0.4);
                    border-radius: 16px;
                    max-width: 400px;
                    width: 100%;
                    padding: 30px;
                    text-align: center;
                }

                .confirm-dialog-title {
                    color: #ef4444;
                    font-size: 1.5rem;
                    font-weight: 700;
                    margin-bottom: 15px;
                }

                .confirm-dialog-message {
                    color: #d1d5db;
                    margin-bottom: 25px;
                }

                .confirm-dialog-buttons {
                    display: flex;
                    gap: 12px;
                    justify-content: center;
                }

                .btn-confirm {
                    background: rgba(220, 38, 38, 0.8);
                    border: 2px solid rgba(220, 38, 38, 0.5);
                    border-radius: 8px;
                    padding: 10px 24px;
                    color: #fff;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s ease;
                }

                .btn-confirm:hover {
                    background: rgba(220, 38, 38, 1);
                }

                .btn-cancel {
                    background: rgba(80, 80, 80, 0.8);
                    border: 2px solid rgba(100, 100, 100, 0.5);
                    border-radius: 8px;
                    padding: 10px 24px;
                    color: #fff;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s ease;
                }

                .btn-cancel:hover {
                    background: rgba(100, 100, 100, 0.9);
                }

            @media (max-width: 1200px) {
                .forum-header h1 {
                    font-size: 2.5rem;
                }
            }

            @media (max-width: 900px) {
                .navbar-tabs {
                    gap: 4px;
                }

                .navbar-tab {
                    padding: 10px 16px;
                    font-size: 14px;
                }

                .forum-header h1 {
                    font-size: 2.2rem;
                }

                .thread-card {
                    padding: 18px;
                }

                .thread-title {
                    font-size: 1.2rem;
                }

                .user-section {
                    gap: 8px;
                }

                .username-display {
                    display: none;
				}
            }
        </style>
    </head>
    <body>
        <div class="loading-screen" id="loadingScreen">
            <img
                src="../logo.png"
                alt="Axis Logo"
                class="loading-logo"
                onerror="this.style.display='none';"
            />
            <div class="loading-spinner"></div>
            <div class="loading-text">Loading Axis Home Forums</div>
            <div class="loading-subtext">Please wait...</div>
        </div>

        <nav class="top-navbar" id="navbar">
            <div class="navbar-container">
                <a
                    href="https://im-apo.github.io/StellarTiers/rankings/overall"
                    class="navbar-logo"
                >
                    <img
                        src="../logo.png"
                        alt="Axis"
                        class="navbar-logo-img"
                        onerror="this.style.display='none';"
                    />
                    <span>Axis Website</span>
                </a>
                <div class="navbar-tabs">
                    <a href="" class="navbar-tab active">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            id="Layer_1"
                            version="1.1"
                            viewBox="0 0 279.8 243.2"
                        >
                            <defs>
                                <style>
                                    .st2 {
                                        fill: none;
                                        stroke-width: 20.6px;
                                        stroke-miterlimit: 10;
                                        display: none;
                                        stroke: #000;
                                    }
                                </style>
                            </defs>
                            <path
                                d="M224 228.8H55.2c-11.9 0-21.5-9.6-21.5-21.5V94.8c0-7.1 3.5-13.7 9.3-17.7l88-60.3c7.6-5.2 17.6-5 24.9.5l80.8 59.8c5.5 4.1 8.7 10.5 8.7 17.3v113c0 11.9-9.6 21.5-21.5 21.5Z"
                                style="
                                    stroke: #ffffff;
                                    fill: none;
                                    stroke-width: 20.6px;
                                    stroke-miterlimit: 10;
                                "
                            />
                            <path
                                d="M81 179.2h118.2"
                                style="
                                    stroke: #ffffff;
                                    fill: none;
                                    stroke-width: 20.6px;
                                    stroke-linecap: round;
                                    stroke-linejoin: round;
                                "
                            />
                        </svg>
                        Home
                    </a>
                    <a
                        href="https://im-apo.github.io/StellarTiers/rankings/overall"
                        class="navbar-tab"
                    >
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M16 11V3H8v6H2v12h20V11h-6zm-6-6h4v14h-4V5zm-6 6h4v8H4v-8zm16 8h-4v-6h4v6z"
                            />
                        </svg>
                        Ranking
                    </a>
                    <a href="../Media/" class="navbar-tab">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M8 5v14l11-7z" />
                        </svg>
                        Media
                    </a>
                    <a href="../Resources/" class="navbar-tab">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"
                            />
                        </svg>
                        Resources
                    </a>
                </div>
                <div
                    class="user-section"
                    id="userSection"
                    style="display: none"
                >
                    <span class="username-display" id="usernameDisplay"></span>
                    <span
                        class="admin-badge"
                        id="adminBadge"
                        style="display: none"
                        >Admin</span
                    >
                    <img
                        src=""
                        alt="User"
                        class="user-avatar"
                        id="userAvatar"
                        style="cursor: pointer"
                        onclick="openProfileSettings()"
                    />
                    <button
                        class="admin-panel-btn"
                        id="adminPanelBtn"
                        style="display: none"
                        onclick="openAdminPanel()"
                    >
                        Admin Panel
                    </button>
                    <button
                        class="profile-settings-btn"
                        onclick="openProfileSettings()"
                    >
                        Settings
                    </button>
                    <button class="btn-logout" id="logoutBtn">Logout</button>
                </div>
                <div class="user-section" id="authSection">
                    <button class="navbar-tab" id="loginBtn">Login</button>
                </div>
            </div>
        </nav>

        <div class="container">
            <div class="forum-search">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                    />
                </svg>
                <input
                    type="text"
                    id="searchInput"
                    placeholder="Search threads..."
                />
            </div>

            <div class="forum-header">
                <h1>Axis Community Forum</h1>
                <button
                    class="create-thread-btn"
                    id="createThreadBtn"
                    style="display: none"
                >
                    <svg
                        viewBox="0 0 24 24"
                        fill="currentColor"
                        style="width: 20px; height: 20px"
                    >
                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                    </svg>
                    Create New Thread
                </button>
            </div>
            <div class="forum-content">
                <div class="pinned-section">
                    <h3 class="section-title">
                        <svg
                            class="pin-icon"
                            viewBox="0 0 24 24"
                            fill="currentColor"
                        >
                            <path
                                d="M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3z"
                            />
                        </svg>
                        Pinned Threads
                    </h3>
                    <div class="thread-card pinned" data-thread-id="welcome">
                        <div class="thread-header">
                            <img
                                src="https://r2.guns.lol/b8ee248c-473c-4418-ace3-615fc46d7814.webp"
                                alt="ImApo"
                                class="thread-avatar"
                            />
                            <span class="thread-author">ImApo</span>
                        </div>
                        <h2 class="thread-title">
                            Welcome to the Axis Website!
                        </h2>
                        <p class="thread-preview">
                            Hello everyone, The First Version of the Full Axis
                            Website is here and will be better soon......
                        </p>
                        <p class="thread-more">Click to read more</p>
                        <div class="thread-meta">
                            <span class="thread-date">
                                <svg
                                    viewBox="0 0 24 24"
                                    fill="currentColor"
                                    style="width: 16px; height: 16px"
                                >
                                    <path
                                        d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"
                                    />
                                </svg>
                                Just now
                            </span>
                        </div>
                    </div>
                </div>

                <h3 class="section-title">Recent Threads</h3>
                <div id="threadsContainer"></div>
            </div>
        </div>

        <div class="footer">
            <strong>StellarTiers© ImApo 2025</strong>
        </div>

        <!-- Auth Modal -->
        <div class="auth-modal" id="authModal">
            <div class="auth-modal-content">
                <div id="errorMessage" class="error-message"></div>

                <div id="loginForm">
                    <h2 class="auth-modal-title">Welcome Back</h2>
                    <p class="auth-modal-subtitle">
                        Login to your Axis account
                    </p>
                    <form class="auth-form" onsubmit="return false;">
                        <div class="form-group">
                            <label class="form-label">Username</label>
                            <input
                                type="text"
                                class="form-input"
                                id="loginUsername"
                                required
                            />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input
                                type="password"
                                class="form-input"
                                id="loginPassword"
                                required
                            />
                        </div>
                        <button
                            type="button"
                            class="btn-primary"
                            onclick="handleLogin()"
                        >
                            Login
                        </button>
                    </form>
                    <div class="auth-switch">
                        Don't have an account?
                        <span
                            class="auth-switch-link"
                            onclick="switchToSignup()"
                            >Sign up</span
                        >
                    </div>
                </div>

                <div id="signupForm" style="display: none">
                    <h2 class="auth-modal-title">Join Axis</h2>
                    <p class="auth-modal-subtitle">Create your account</p>
                    <form class="auth-form" onsubmit="return false;">
                        <div class="form-group">
                            <label class="form-label">Username</label>
                            <input
                                type="text"
                                class="form-input"
                                id="signupUsername"
                                required
                            />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input
                                type="email"
                                class="form-input"
                                id="signupEmail"
                                required
                            />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input
                                type="password"
                                class="form-input"
                                id="signupPassword"
                                required
                            />
                        </div>
                        <button
                            type="button"
                            class="btn-primary"
                            onclick="handleSignup()"
                        >
                            Sign Up
                        </button>
                    </form>
                    <div class="auth-switch">
                        Already have an account?
                        <span class="auth-switch-link" onclick="switchToLogin()"
                            >Login</span
                        >
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Thread Modal -->
        <div class="create-thread-modal" id="createThreadModal">
            <div class="create-thread-content">
                <button class="modal-close" onclick="closeCreateThread()">
                    &times;
                </button>
                <h2 class="auth-modal-title">Create New Thread</h2>
                <div id="createThreadError" class="error-message"></div>
                <form class="auth-form" onsubmit="return false;">
                    <div class="form-group">
                        <label class="form-label">Thread Title</label>
                        <input
                            type="text"
                            class="form-input"
                            id="threadTitle"
                            required
                            maxlength="100"
                        />
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thread Content</label>
                        <textarea
                            class="form-textarea"
                            id="threadContent"
                            required
                            maxlength="5000"
                        ></textarea>
                    </div>
                    <div class="moderation-warning">
                        ⚠️ Posts containing inappropriate content, illegal
                        activities, or banned terms will be automatically
                        rejected.
                    </div>
                    <button
                        type="button"
                        class="btn-primary"
                        onclick="handleCreateThread()"
                    >
                        Post Thread
                    </button>
                </form>
            </div>
        </div>

        <!-- View Thread Modal -->
        <div class="thread-modal" id="threadModal">
            <div class="thread-modal-content">
                <button class="thread-modal-close" onclick="closeThread()">
                    &times;
                </button>
                <div class="thread-modal-header">
                    <img
                        src=""
                        alt="Author"
                        class="thread-modal-avatar"
                        id="modalAvatar"
                    />
                    <span class="thread-modal-author" id="modalAuthor"></span>
                </div>
                <h2 class="thread-modal-title" id="modalTitle"></h2>
                <div class="thread-modal-body" id="modalBody"></div>
            </div>
        </div>

        <script>
            // Moderation system - banned terms
            const BANNED_TERMS = [
    // Violence & Illegal Activities
    'illegal', 'bomb', 'kill', 'murder', 'attack', 'terrorist', 'terrorism',
    'shooting', 'massacre', 'assassination', 'genocide', 'torture',
    
    // Drugs & Substances
    'drugs', 'cocaine', 'heroin', 'meth', 'methamphetamine', 'fentanyl',
    'opioid', 'narcotic', 'dealer', 'trafficking',
    
    // Weapons
    'weapons', 'gun', 'firearm', 'explosive', 'grenade', 'ammunition',
    
    // Hacking & Cyber Crimes
    'hack', 'hacker', 'hacking', 'exploit', 'exploits', 'ddos', 'botnet',
    'ransomware', 'malware', 'virus', 'trojan', 'keylogger', 'phishing',
    'breach', 'cracking', 'leaked', 'stolen account',
    
    // Doxxing & Harassment
    'doxx', 'dox', 'doxxing', 'doxing', 'swat', 'swatting',
    'personal info', 'home address', 'phone number', 'social security',
    
    // Cheating
    'cheat', 'cheating', 'aimbot', 'wallhack', 'esp', 'triggerbot',
    'bhop', 'speedhack', 'mod menu', 'injector',
    
    // Fraud & Scams
    'scam', 'fraud', 'phishing', 'ponzi', 'pyramid scheme',
    'credit card', 'stolen', 'counterfeit', 'forgery',
    
    // Harmful Content
    'suicide', 'self harm', 'cutting', 'overdose',
    
    // Racial Slurs (censored examples)
    'nigger', 'nigga', 'chink', 'spec', 'kike', 'faggot',
    'tranny', 'retard', 'cunt',
    
    // Other Inappropriate
    'nazi', 'hitler', 'kkk', 'white power', 'supremacy',
    'rape', 'molest', 'pedophile', 'child porn', 'cp', 'porn', 	
]; 	

            // Content moderation function
            function moderateContent(text) {
                const lowerText = text.toLowerCase();
                for (const term of BANNED_TERMS) {
                    if (lowerText.includes(term)) {
                        return { passed: false, term: term };
                    }
                }
                return { passed: true };
            }

            // Admin system
            const ADMIN_USERNAMES = ['ImApo'];
            let deleteThreadId = null;

            function isAdmin() {
                return currentUser && ADMIN_USERNAMES.includes(currentUser.username);
            }

            // State management
            let currentUser = null;
            let threads = [];
            let tempAvatar = null;

            // Check for existing session
            function checkSession() {
                const savedUser = localStorage.getItem('axisUser');
                if (savedUser) {
                    currentUser = JSON.parse(savedUser);
                    updateUIForLoggedInUser();
                }
            }

            // Update UI for logged in user
            function updateUIForLoggedInUser() {
                document.getElementById('authSection').style.display = 'none';
                document.getElementById('userSection').style.display = 'flex';
                document.getElementById('usernameDisplay').textContent = currentUser.username;
                document.getElementById('userAvatar').src = currentUser.avatar || 'https://via.placeholder.com/40';
                document.getElementById('createThreadBtn').style.display = 'inline-flex';

                if (isAdmin()) {
                    document.getElementById('adminBadge').style.display = 'inline-block';
                    document.getElementById('adminPanelBtn').style.display = 'inline-block';
                }
            }

            // Auth functions
            function handleLogin() {
                const username = document.getElementById('loginUsername').value.trim();
                const password = document.getElementById('loginPassword').value;

                if (!username || !password) {
                    showError('Please fill in all fields');
                    return;
                }

                const users = JSON.parse(localStorage.getItem('axisUsers') || '{}');
                if (!users[username]) {
                    showError('User not found');
                    return;
                }

                if (users[username].password !== password) {
                    showError('Incorrect password');
                    return;
                }

                currentUser = {
                    username: username,
                    email: users[username].email,
                    avatar: users[username].avatar || 'https://via.placeholder.com/40'
                };

                localStorage.setItem('axisUser', JSON.stringify(currentUser));
                closeAuthModal();
                updateUIForLoggedInUser();
                loadThreads();
            }

            function handleSignup() {
                const username = document.getElementById('signupUsername').value.trim();
                const email = document.getElementById('signupEmail').value.trim();
                const password = document.getElementById('signupPassword').value;

                if (!username || !email || !password) {
                    showError('Please fill in all fields');
                    return;
                }

                if (username.length < 3) {
                    showError('Username must be at least 3 characters');
                    return;
                }

                if (password.length < 6) {
                    showError('Password must be at least 6 characters');
                    return;
                }

                const modResult = moderateContent(username);
                if (!modResult.passed) {
                    showError('Username contains inappropriate content');
                    return;
                }

                // THIS PREVENTS DUPLICATE USERNAMES - Security Feature
                const users = JSON.parse(localStorage.getItem('axisUsers') || '{}');
                if (users[username]) {
                    showError('Username already taken');
                    return;
                }

                users[username] = {
                    email: email,
                    password: password,
                    avatar: `https://ui-avatars.com/api/?name=${encodeURIComponent(username)}&background=random`,
                    createdAt: new Date().toISOString()
                };

                localStorage.setItem('axisUsers', JSON.stringify(users));

                currentUser = {
                    username: username,
                    email: email,
                    avatar: users[username].avatar
                };

                localStorage.setItem('axisUser', JSON.stringify(currentUser));
                closeAuthModal();
                updateUIForLoggedInUser();
                loadThreads();
            }

            function handleLogout() {
                localStorage.removeItem('axisUser');
                currentUser = null;
                document.getElementById('authSection').style.display = 'flex';
                document.getElementById('userSection').style.display = 'none';
                document.getElementById('createThreadBtn').style.display = 'none';
                document.getElementById('adminBadge').style.display = 'none';
                document.getElementById('adminPanelBtn').style.display = 'none';
                loadThreads();
            }

            function switchToSignup() {
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('signupForm').style.display = 'block';
                clearError();
            }

            function switchToLogin() {
                document.getElementById('signupForm').style.display = 'none';
                document.getElementById('loginForm').style.display = 'block';
                clearError();
            }

            function showError(message) {
                const errorEl = document.getElementById('errorMessage');
                errorEl.textContent = message;
                errorEl.classList.add('active');
            }

            function clearError() {
                const errorEl = document.getElementById('errorMessage');
                errorEl.textContent = '';
                errorEl.classList.remove('active');
            }

            function openAuthModal() {
                document.getElementById('authModal').classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            function closeAuthModal() {
                document.getElementById('authModal').classList.remove('active');
                document.body.style.overflow = 'auto';
                clearError();
            }

            // Thread functions
            function handleCreateThread() {
                if (!currentUser) {
                    openAuthModal();
                    return;
                }

                const title = document.getElementById('threadTitle').value.trim();
                const content = document.getElementById('threadContent').value.trim();

                if (!title || !content) {
                    showCreateThreadError('Please fill in all fields');
                    return;
                }

                const titleMod = moderateContent(title);
                if (!titleMod.passed) {
                    showCreateThreadError(`Title contains banned term: "${titleMod.term}"`);
                    return;
                }

                const contentMod = moderateContent(content);
                if (!contentMod.passed) {
                    showCreateThreadError(`Content contains banned term: "${contentMod.term}"`);
                    return;
                }

                const newThread = {
                    id: Date.now().toString(),
                    title: title,
                    content: content,
                    author: currentUser.username,
                    avatar: currentUser.avatar,
                    createdAt: new Date().toISOString(),
                    preview: content.substring(0, 150) + (content.length > 150 ? '...' : '')
                };

                threads.unshift(newThread);
                localStorage.setItem('axisThreads', JSON.stringify(threads));

                closeCreateThread();
                loadThreads();
                document.getElementById('threadTitle').value = '';
                document.getElementById('threadContent').value = '';
            }

            function showCreateThreadError(message) {
                const errorEl = document.getElementById('createThreadError');
                errorEl.textContent = message;
                errorEl.classList.add('active');
            }

            function clearCreateThreadError() {
                const errorEl = document.getElementById('createThreadError');
                errorEl.textContent = '';
                errorEl.classList.remove('active');
            }

            function openCreateThread() {
                if (!currentUser) {
                    openAuthModal();
                    return;
                }
                document.getElementById('createThreadModal').classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            function closeCreateThread() {
                document.getElementById('createThreadModal').classList.remove('active');
                document.body.style.overflow = 'auto';
                clearCreateThreadError();
            }

            function loadThreads() {
                threads = JSON.parse(localStorage.getItem('axisThreads') || '[]');
                const container = document.getElementById('threadsContainer');

                if (threads.length === 0) {
                    container.innerHTML = '<div style="text-align: center; padding: 60px 20px; color: #64748b; font-size: 1.1rem;">No threads yet. Be the first to create one!</div>';
                    return;
                }

                container.innerHTML = threads.map(thread => `
                    <div class="thread-card" onclick="openThreadModal('${thread.id}')">
                        <div class="thread-header">
                            <img src="${thread.avatar}" alt="${thread.author}" class="thread-avatar">
                            <span class="thread-author">${thread.author}</span>
                        </div>
                        <h2 class="thread-title">${thread.title}</h2>
                        <p class="thread-preview">${thread.preview}</p>
                        <p class="thread-more">Click to read more</p>
                        <div class="thread-meta">
                            <span class="thread-date">
                                <svg viewBox="0 0 24 24" fill="currentColor" style="width: 16px; height: 16px;">
                                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                                </svg>
                                ${getTimeAgo(thread.createdAt)}
                            </span>
                        </div>
                    </div>
                `).join('');
            }

            function openThreadModal(threadId) {
                let thread;

                if (threadId === 'welcome') {
                    thread = {
                        title: 'Welcome to the Axis Website!',
                        content: 'Hello everyone, The First Version of the Full Axis Website is here and will be better soon. Our Website Offers A Media Tab for linked players. A Resource Tab for people to post their texture packs, and finally a fully fledged tierlist with Main Tiers, Subtiers and limited time tiers.\n\nStay Tuned and check on us later for newer updates!',
                        author: 'ImApo',
                        avatar: 'https://r2.guns.lol/b8ee248c-473c-4418-ace3-615fc46d7814.webp'
                    };
                } else {
                    thread = threads.find(t => t.id === threadId);
                    if (!thread) return;
                }

                document.getElementById('modalAvatar').src = thread.avatar;
                document.getElementById('modalAuthor').textContent = thread.author;
                document.getElementById('modalTitle').textContent = thread.title;
                document.getElementById('modalBody').innerHTML = thread.content.split('\n').map(p => `<p>${p}</p>`).join('');

                const modalContent = document.querySelector('.thread-modal-content');
                const existingDeleteBtn = modalContent.querySelector('.delete-thread-btn');
                if (existingDeleteBtn) existingDeleteBtn.remove();

                if (isAdmin() && threadId !== 'welcome') {
                    const deleteBtn = document.createElement('button');
                    deleteBtn.className = 'delete-thread-btn';
                    deleteBtn.innerHTML = `
                        <svg viewBox="0 0 24 24" fill="currentColor" style="width: 16px; height: 16px; display: inline-block; vertical-align: middle; margin-right: 4px;">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                        </svg>
                        Delete Thread
                    `;
                    deleteBtn.onclick = (e) => {
                        e.stopPropagation();
                        requestDeleteThread(threadId, thread.title);
                    };
                    modalContent.insertBefore(deleteBtn, modalContent.firstChild);
                }

                document.getElementById('threadModal').classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            function closeThread() {
                document.getElementById('threadModal').classList.remove('active');
                document.body.style.overflow = 'auto';
            }

            function getTimeAgo(dateString) {
                const date = new Date(dateString);
                const now = new Date();
                const seconds = Math.floor((now - date) / 1000);

                if (seconds < 60) return 'Just now';
                if (seconds < 3600) return Math.floor(seconds / 60) + ' minutes ago';
                if (seconds < 86400) return Math.floor(seconds / 3600) + ' hours ago';
                if (seconds < 604800) return Math.floor(seconds / 86400) + ' days ago';
                return date.toLocaleDateString();
            }

            // Admin functions
            function openAdminPanel() {
                if (!isAdmin()) return;

                const users = JSON.parse(localStorage.getItem('axisUsers') || '{}');
                const adminCount = Object.keys(users).filter(u => ADMIN_USERNAMES.includes(u)).length;

                document.getElementById('totalThreads').textContent = threads.length;
                document.getElementById('totalUsers').textContent = Object.keys(users).length;
                document.getElementById('adminCount').textContent = adminCount;

                loadAdminThreadsList();
                document.getElementById('adminPanel').classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            function closeAdminPanel() {
                document.getElementById('adminPanel').classList.remove('active');
                document.body.style.overflow = 'auto';
            }

            function loadAdminThreadsList() {
                const container = document.getElementById('adminThreadsList');

                if (threads.length === 0) {
                    container.innerHTML = '<div style="text-align: center; color: #9ca3af; padding: 20px;">No threads to manage</div>';
                    return;
                }

                container.innerHTML = threads.map(thread => `
                    <div class="admin-thread-item">
                        <div class="admin-thread-info">
                            <div class="admin-thread-title">${thread.title}</div>
                            <div class="admin-thread-meta">By ${thread.author} • ${getTimeAgo(thread.createdAt)}</div>
                        </div>
                        <button class="admin-delete-btn" onclick="requestDeleteThread('${thread.id}', '${thread.title.replace(/'/g, "\\'")}')">
                            <svg viewBox="0 0 24 24" fill="currentColor" style="width: 16px; height: 16px; display: inline-block; vertical-align: middle; margin-right: 4px;">
                                <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                            </svg>
                            Delete
                        </button>
                    </div>
                `).join('');
            }

            function requestDeleteThread(threadId, threadTitle) {
                deleteThreadId = threadId;
                document.getElementById('confirmMessage').textContent = `Are you sure you want to delete "${threadTitle}"? This action cannot be undone.`;
                document.getElementById('confirmDialog').classList.add('active');
            }

            function confirmDelete() {
                if (!deleteThreadId) return;
                deleteThread(deleteThreadId);
                closeConfirmDialog();
                deleteThreadId = null;
            }

            function closeConfirmDialog() {
                document.getElementById('confirmDialog').classList.remove('active');
                deleteThreadId = null;
            }

            function deleteThread(threadId) {
                threads = threads.filter(t => t.id !== threadId);
                localStorage.setItem('axisThreads', JSON.stringify(threads));
                loadThreads();
                loadAdminThreadsList();
                document.getElementById('totalThreads').textContent = threads.length;
                if (document.getElementById('threadModal').classList.contains('active')) {
                    closeThread();
                }
            }

            // Profile functions
            function openProfileSettings() {
                if (!currentUser) return;

                tempAvatar = currentUser.avatar;
                document.getElementById('profileAvatarPreview').src = currentUser.avatar;
                document.getElementById('profileModal').classList.add('active');
                document.body.style.overflow = 'hidden';

                document.querySelectorAll('.avatar-option').forEach(opt => {
                    if (opt.src === currentUser.avatar) {
                        opt.classList.add('selected');
                    } else {
                        opt.classList.remove('selected');
                    }
                });
            }

            function closeProfileSettings() {
                document.getElementById('profileModal').classList.remove('active');
                document.body.style.overflow = 'auto';
                tempAvatar = null;
                document.querySelectorAll('.avatar-option').forEach(opt => opt.classList.remove('selected'));
            }

            function handleAvatarUpload(event) {
                const file = event.target.files[0];
                if (!file) return;

                if (!file.type.startsWith('image/')) {
                    alert('Please upload an image file');
                    return;
                }

                if (file.size > 2 * 1024 * 1024) {
                    alert('Image size must be less than 2MB');
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    tempAvatar = e.target.result;
                    document.getElementById('profileAvatarPreview').src = tempAvatar;
                    document.querySelectorAll('.avatar-option').forEach(opt => opt.classList.remove('selected'));
                };
                reader.readAsDataURL(file);
            }

            function selectPresetAvatar(avatarUrl) {
                tempAvatar = avatarUrl;
                document.getElementById('profileAvatarPreview').src = avatarUrl;

                document.querySelectorAll('.avatar-option').forEach(opt => {
                    if (opt.src === avatarUrl) {
                        opt.classList.add('selected');
                    } else {
                        opt.classList.remove('selected');
                    }
                });
            }

            function saveProfileSettings() {
                if (!tempAvatar) {
                    alert('Please select an avatar');
                    return;
                }

                currentUser.avatar = tempAvatar;
                localStorage.setItem('axisUser', JSON.stringify(currentUser));

                const users = JSON.parse(localStorage.getItem('axisUsers') || '{}');
                if (users[currentUser.username]) {
                    users[currentUser.username].avatar = tempAvatar;
                    localStorage.setItem('axisUsers', JSON.stringify(users));
                }

                document.getElementById('userAvatar').src = tempAvatar;
                closeProfileSettings();
                alert('Profile updated successfully!');
            }

            // Search functionality
            document.getElementById('searchInput').addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                const threadCards = document.querySelectorAll('#threadsContainer .thread-card');

                threadCards.forEach(card => {
                    const title = card.querySelector('.thread-title').textContent.toLowerCase();
                    const preview = card.querySelector('.thread-preview').textContent.toLowerCase();

                    if (title.includes(searchTerm) || preview.includes(searchTerm)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });

            // Event listeners
            document.getElementById('loginBtn').addEventListener('click', openAuthModal);
            document.getElementById('logoutBtn').addEventListener('click', handleLogout);
            document.getElementById('createThreadBtn').addEventListener('click', openCreateThread);
            document.querySelector('.thread-card.pinned').addEventListener('click', () => openThreadModal('welcome'));

            // Loading screen
            window.addEventListener('load', () => {
                const loadingScreen = document.getElementById('loadingScreen');
                setTimeout(() => {
                    loadingScreen.classList.add('hidden');
                    setTimeout(() => loadingScreen.style.display = 'none', 500);
                }, 750);
            });

            // Navbar scroll
            let lastScrollTop = 0;
            const navbar = document.getElementById('navbar');
            window.addEventListener('scroll', () => {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                if (scrollTop > lastScrollTop && scrollTop > 100) {
                    navbar.classList.add('hidden');
                } else {
                    navbar.classList.remove('hidden');
                }
                lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
            });

            // Close modals on backdrop click - with null checks
const threadModal = document.getElementById('threadModal');
if (threadModal) {
    threadModal.addEventListener('click', (e) => {
        if (e.target.id === 'threadModal') closeThread();
    });
}

const createThreadModal = document.getElementById('createThreadModal');
if (createThreadModal) {
    createThreadModal.addEventListener('click', (e) => {
        if (e.target.id === 'createThreadModal') closeCreateThread();
    });
}

const authModal = document.getElementById('authModal');
if (authModal) {
    authModal.addEventListener('click', (e) => {
        if (e.target.id === 'authModal') closeAuthModal();
    });
}

const profileModal = document.getElementById('profileModal');
if (profileModal) {
    profileModal.addEventListener('click', (e) => {
        if (e.target.id === 'profileModal') closeProfileSettings();
    });
}

const adminPanel = document.getElementById('adminPanel');
if (adminPanel) {
    adminPanel.addEventListener('click', (e) => {
        if (e.target.id === 'adminPanel') closeAdminPanel();
    });
}

const confirmDialog = document.getElementById('confirmDialog');
if (confirmDialog) {
    confirmDialog.addEventListener('click', (e) => {
        if (e.target.id === 'confirmDialog') closeConfirmDialog();
    });
}

            // Escape key handler
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    if (document.getElementById('confirmDialog').classList.contains('active')) {
                        closeConfirmDialog();
                    }
                    if (document.getElementById('adminPanel').classList.contains('active')) {
                        closeAdminPanel();
                    }
                    if (document.getElementById('threadModal').classList.contains('active')) {
                        closeThread();
                    }
                    if (document.getElementById('createThreadModal').classList.contains('active')) {
                        closeCreateThread();
                    }
                    if (document.getElementById('authModal').classList.contains('active')) {
                        closeAuthModal();
                    }
                    if (document.getElementById('profileModal').classList.contains('active')) {
                        closeProfileSettings();
                    }
                }
            });

            // Initialize
            checkSession();
            loadThreads();
		</script>
        <!-- Profile Settings Modal -->
        <div class="profile-modal" id="profileModal">
            <div class="profile-modal-content">
                <button class="modal-close" onclick="closeProfileSettings()">
                    &times;
                </button>
                <h2 class="auth-modal-title">Profile Settings</h2>
                <div id="profileError" class="error-message"></div>

                <div style="text-align: center; margin-bottom: 30px">
                    <img
                        src=""
                        alt="Profile"
                        class="profile-avatar-preview"
                        id="profileAvatarPreview"
                    />
                    <p style="color: #9ca3af; margin-top: 10px">
                        Click on a preset avatar below or upload your own
                    </p>
                </div>

                <div class="avatar-upload-section">
                    <h3
                        style="
                            color: #e5e5e5;
                            margin-bottom: 15px;
                            font-size: 1.1rem;
                        "
                    >
                        Upload Custom Avatar
                    </h3>
                    <div class="file-input-wrapper">
                        <input
                            type="file"
                            id="avatarUpload"
                            accept="image/*"
                            onchange="handleAvatarUpload(event)"
                        />
                        <label for="avatarUpload" class="file-input-label">
                            <svg
                                viewBox="0 0 24 24"
                                fill="currentColor"
                                style="
                                    width: 40px;
                                    height: 40px;
                                    margin: 0 auto 10px;
                                    display: block;
                                "
                            >
                                <path
                                    d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"
                                />
                            </svg>
                            Click to upload image
                        </label>
                    </div>
                </div>

                <div class="avatar-upload-section">
                    <h3
                        style="
                            color: #e5e5e5;
                            margin-bottom: 15px;
                            font-size: 1.1rem;
                        "
                    >
                        Or Choose a Preset Avatar
                    </h3>
                    <div class="avatar-options">
                        <img
                            src="https://ui-avatars.com/api/?name=User&background=3b82f6"
                            class="avatar-option"
                            onclick="selectPresetAvatar('https://ui-avatars.com/api/?name=User&background=3b82f6')"
                        />
                        <img
                            src="https://ui-avatars.com/api/?name=Gamer&background=8b5cf6"
                            class="avatar-option"
                            onclick="selectPresetAvatar('https://ui-avatars.com/api/?name=Gamer&background=8b5cf6')"
                        />
                        <img
                            src="https://ui-avatars.com/api/?name=Pro&background=ec4899"
                            class="avatar-option"
                            onclick="selectPresetAvatar('https://ui-avatars.com/api/?name=Pro&background=ec4899')"
                        />
                        <img
                            src="https://ui-avatars.com/api/?name=Elite&background=10b981"
                            class="avatar-option"
                            onclick="selectPresetAvatar('https://ui-avatars.com/api/?name=Elite&background=10b981')"
                        />
                        <img
                            src="https://ui-avatars.com/api/?name=Axis&background=f59e0b"
                            class="avatar-option"
                            onclick="selectPresetAvatar('https://ui-avatars.com/api/?name=Axis&background=f59e0b')"
                        />
                        <img
                            src="https://ui-avatars.com/api/?name=King&background=ef4444"
                            class="avatar-option"
                            onclick="selectPresetAvatar('https://ui-avatars.com/api/?name=King&background=ef4444')"
                        />
                        <img
                            src="https://ui-avatars.com/api/?name=Star&background=06b6d4"
                            class="avatar-option"
                            onclick="selectPresetAvatar('https://ui-avatars.com/api/?name=Star&background=06b6d4')"
                        />
                        <img
                            src="https://ui-avatars.com/api/?name=Boss&background=6366f1"
                            class="avatar-option"
                            onclick="selectPresetAvatar('https://ui-avatars.com/api/?name=Boss&background=6366f1')"
                        />
                    </div>
                </div>

                <button
                    type="button"
                    class="btn-primary"
                    style="margin-top: 30px"
                    onclick="saveProfileSettings()"
                >
                    Save Changes
                </button>
            </div>
        </div>
        <!-- Admin Panel Modal -->
        <div class="admin-panel-modal" id="adminPanel">
            <div class="admin-panel-content">
                <button class="modal-close" onclick="closeAdminPanel()">
                    &times;
                </button>
                <h2 class="auth-modal-title" style="color: #fbbf24">
                    Admin Control Panel
                </h2>

                <div class="admin-stats">
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="totalThreads">0</div>
                        <div class="admin-stat-label">Total Threads</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="totalUsers">0</div>
                        <div class="admin-stat-label">Total Users</div>
                    </div>
                    <div class="admin-stat-card">
                        <div class="admin-stat-value" id="adminCount">0</div>
                        <div class="admin-stat-label">Admins</div>
                    </div>
                </div>

                <h3
                    style="
                        color: #e5e5e5;
                        margin-bottom: 15px;
                        font-size: 1.2rem;
                    "
                >
                    Manage Threads
                </h3>
                <div id="adminThreadsList"></div>
            </div>
        </div>

        <!-- Confirm Delete Dialog -->
        <div class="confirm-dialog" id="confirmDialog">
            <div class="confirm-dialog-content">
                <div class="confirm-dialog-title">⚠️ Confirm Deletion</div>
                <div class="confirm-dialog-message" id="confirmMessage">
                    Are you sure you want to delete this thread?
                </div>
                <div class="confirm-dialog-buttons">
                    <button class="btn-cancel" onclick="closeConfirmDialog()">
                        Cancel
                    </button>
                    <button class="btn-confirm" onclick="confirmDelete()">
                        Delete
                    </button>
                </div>
            </div>
        </div>
    </body>
</html>
